<!DOCTYPE html>
<html lang="en"></html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UNCP Registration System - Multi-user</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <div class="container">
      <header class="text-center my-4">
        <h1 class="app-title">Automated Registration System</h1>
        <h2 class="app-subtitle">UNCP University Dining Hall</h2>
        <div id="clock" class="clock">00:00:00</div>
      </header>

      <div class="card main-card">
        <div class="card-body">
          <div class="row">
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-header bg-primary text-white">
                  <h3>Global Configuration</h3>
                </div>
                <div class="card-body">
                  <form id="configForm">
                    <div class="mb-3">
                      <label for="numSolicitudes" class="form-label"
                        >Number of Requests</label
                      >
                      <input
                        type="number"
                        class="form-control"
                        id="numSolicitudes"
                        min="1"
                        max="100"
                        value="10"
                      />
                    </div>
                    <div class="mb-3">
                      <label for="intervalo" class="form-label"
                        >Interval between Requests (ms)</label
                      >
                      <input
                        type="number"
                        class="form-control"
                        id="intervalo"
                        min="50"
                        max="1000"
                        value="100"
                      />
                    </div>
                    <button type="submit" class="btn btn-primary">
                      Save Configuration
                    </button>
                  </form>
                </div>
              </div>
            </div>

            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-header bg-success text-white">
                  <h3>Actions</h3>
                </div>
                <div class="card-body d-flex flex-column">
                  <div class="status-box mb-3">
                    <h4>General Status</h4>
                    <div id="status" class="status-indicator">Inactive</div>
                    <div id="nextExecution" class="next-execution"></div>
                  </div>

                  <div class="mb-3">
                    <label class="form-label">Schedule for</label>
                    <div class="d-flex mb-2">
                      <input
                        type="date"
                        id="scheduleDateInput"
                        class="form-control me-2"
                      />
                      <input
                        type="time"
                        class="form-control"
                        id="horaInicio"
                        value="07:00"
                      />
                    </div>
                  </div>

                  <div class="mt-auto">
                    <button
                      id="runNowBtn"
                      class="btn btn-success btn-lg mb-3 w-100"
                    >
                      Run Now
                    </button>
                    <button
                      id="scheduleBtn"
                      class="btn btn-primary btn-lg mb-3 w-100"
                    >
                      Schedule
                    </button>
                    <button id="stopBtn" class="btn btn-danger btn-lg w-100">
                      Stop
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Actualización para la lista de usuarios -->
          <div class="card mt-4">
            <div class="card-header bg-info text-white">
              <h3>Users</h3>
              <span class="text-white-50"
                >Select users for execution</span
              >
            </div>
            <div class="card-body">
              <div class="select-all-container">
                <div class="user-counter">
                  <span id="user-count">0</span> users selected
                </div>
                <button
                  type="button"
                  class="btn btn-outline-primary btn-sm"
                  id="selectAllBtn"
                >
                  Select All
                </button>
              </div>
              <div id="userList" class="user-list-container">
                <!-- Los usuarios se generarán dinámicamente aquí -->
              </div>
            </div>
          </div>

          <!-- Actualización para agregar usuarios -->
          <div class="card mt-4 add-user-card">
            <div class="card-header bg-secondary text-white">
              <h3 class="add-user-title">
                <i class="fas fa-user-plus"></i>
                Add Custom User
              </h3>
            </div>
            <div class="card-body">
              <form id="customUserForm">
                <div class="row">
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="customUserName" class="form-label">Name</label>
                      <input
                        type="text"
                        class="form-control"
                        id="customUserName"
                        placeholder="Ejm: Juan Pérez"
                        required
                      />
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="customUserDni" class="form-label">DNI</label>
                      <input
                        type="text"
                        class="form-control"
                        id="customUserDni"
                        pattern="\d{8}"
                        placeholder="Ejm: 72345678"
                        required
                      />
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="customUserCode" class="form-label">Code</label>
                      <input
                        type="text"
                        class="form-control"
                        id="customUserCode"
                        placeholder="Ejm: 2020101234A"
                        required
                      />
                    </div>
                  </div>
                </div>
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-plus-circle"></i>
                  Add User
                </button>
              </form>
            </div>
          </div>

          <div class="card mt-4">
            <div class="card-header bg-dark text-white">
              <h3>Results</h3>
            </div>
            <div class="card-body">
              <div class="results-container">
                <pre id="results" class="results">
Results will be displayed here...</pre
                >
              </div>
              <button
                id="clearResultsBtn"
                class="btn btn-outline-secondary mt-3"
              >
                Clear Results
              </button>
            </div>
          </div>
        </div>
      </div>

      <footer class="text-center text-muted my-4">
        <p>
          Automated Registration System for the UNCP University Dining Hall
          &copy; 2025
        </p>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="js/app.js"></script>
  </body>
</html>
